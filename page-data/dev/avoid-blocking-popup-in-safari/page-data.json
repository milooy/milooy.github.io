{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/dev/avoid-blocking-popup-in-safari/","result":{"data":{"site":{"siteMetadata":{"title":"유림로그"}},"markdownRemark":{"id":"f8ee1179-66f9-51fe-9457-ae6aa9b5dd67","excerpt":"사파리는 비동기 콜 안에서 window.open으로 연 팝업을 차단합니다. (크롬은 ㄱㅊ) 1.빈 팝업을 열고 2.필요한 비동기콜을 한 후 3.팝업 url을 바꿔주세요. 2와…","html":"<p>사파리는 비동기 콜 안에서 window.open으로 연 팝업을 차단합니다. (크롬은 ㄱㅊ)</p>\n<p>1.빈 팝업을 열고<br/> 2.필요한 비동기콜을 한 후 <br/>3.팝업 url을 바꿔주세요.</p>\n<p>2와 1이 바뀌어도 차단되는걸 유념해주세요.</p>\n<h2>차단 예시: 비동기 콜 안에서 팝업 열기</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">fetchCat</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"야옹\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> popup <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span>\n    url<span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"cert\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"top=10, left=10, width=500, height=600, status=no, menubar=no, toolbar=no, resizable=no\"</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> url <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetchCat</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"야옹\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">var</span> popup <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span>\n  url<span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"cert\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"top=10, left=10, width=500, height=600, status=no, menubar=no, toolbar=no, resizable=no\"</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<h2>성공 예시: 비동기 콜 전에 팝업 열고 이후에 url 할당</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> popup <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span>\n  <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"cert\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"top=10, left=10, width=500, height=600, status=no, menubar=no, toolbar=no, resizable=no\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> url <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetchCat</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"야옹\"</span><span class=\"token punctuation\">)</span>\npopup<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>href <span class=\"token operator\">=</span> url</code></pre></div>\n<ul>\n<li>데모 사이트: <a href=\"https://milooy.github.io/avoid-blocking-popup-in-safari/\">https://milooy.github.io/avoid-blocking-popup-in-safari/</a></li>\n<li>데모 사이트의 코드: <a href=\"https://github.com/milooy/avoid-blocking-popup-in-safari/blob/main/index.html\">https://github.com/milooy/avoid-blocking-popup-in-safari/blob/main/index.html</a></li>\n</ul>","frontmatter":{"title":"사파리 팝업차단 우회하기","date":"March 15, 2022","description":"간단한데 삽질했네","category":"dev"}},"previous":{"fields":{"slug":"/life/how-to-write/"},"frontmatter":{"title":"재밌는 글을 남기려면"}},"next":{"fields":{"slug":"/books/the-secret-life-of-programming/"},"frontmatter":{"title":"한 권으로 읽는 컴퓨터 구조와 프로그래밍 독서노트"}}},"pageContext":{"id":"f8ee1179-66f9-51fe-9457-ae6aa9b5dd67","previousPostId":"b69b3dee-2ab8-5891-82c5-bb5c17307d8a","nextPostId":"434a82c6-7195-5984-a8c7-05c25655847c"}},"staticQueryHashes":["2841359383","3257411868"]}